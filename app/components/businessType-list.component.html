<section class="bp-list-container">
    <div class="row">
        <div class="col-md-4 selected-business-type-column">
            <div class="bp-list-type-header">REFINE YOUR RESULTS</div>
            <div class="bp-list-type-title bp-list-type-subheader no-select" (click)="onClickTogglebusinessTypes(); $event.stopPropagation();" [class.selected]="togglebusinessTypes">Business Types <i class="bp-type-title-icon fa" [ngClass]="{'fa-plus-circle': !togglebusinessTypes, 'fa-minus-circle': togglebusinessTypes}"></i>
            </div>
            <!-- All the business types -->
            <div *ngIf="displayedTypes && togglebusinessTypes">

                <!-- Each Selected Business Type-->
                <ul class="bp-list-types">
                    <li class="bp-list-types-text no-select" *ngFor="let businessType of displayedTypes" (click)="onSelectBusinessType(businessType); $event.stopPropagation()" [class.selected]="selectedBusinessTypes.has(businessType)"> {{businessType.business_type}}
                    </li>
                </ul>
            </div>
        </div>

        <!-- If Selected BusinessType  -->
        <div #selectedBusinessTypesID class="bp-types-permits">
            <div [@flyInOut] *ngIf="requiredPermitsToShow.length">
                <div class="bp-list-permits-header">Required Permits ({{requiredPermitsToShow.length}})</div>
                <!-- All Required Permits -->
                <div [@flyInOut]="selectedBusinessTypes" class="bp-permit" [ngClass]="{'last': last}" *ngFor="let permit of requiredPermitsToShow; let last = last">
                    <bp-permit [permit]="permit"></bp-permit>
                </div>
            </div>
            <div [@flyInOut] *ngIf="conditionalPermitsToShow.length">
                <div class="bp-list-permits-header">Conditionally Required Permits ({{conditionalPermitsToShow.length}})</div>
                <!-- All Conditional Permits -->
                <div [@flyInOut]="selectedBusinessTypes" class="bp-permit" [ngClass]="{'last': last}" *ngFor="let permit of conditionalPermitsToShow; let last = last">
                    <bp-permit [permit]="permit"></bp-permit>
                </div>
            </div>
        </div>
    </div>
</section>
