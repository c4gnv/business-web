<section class="bp-list-container">
    <div class="row">
        <div class="col-md-4 selected-business-category-column">
            <div class="bp-list-category-header">REFINE YOUR RESULTS</div>
            <div  class="bp-list-category-subheader">Filter by Category</div>
            <ul class="fa-ul list-group">
                <li class="list-group-item bp-category-row" *ngFor="let businessCategory of finalBusinessCategories" (click)="onSelectBusinessCategory(businessCategory); " [class.selected]="businessCategory === selectedbusinessCategory"><i class="bp-category-icon fa fa-chevron-right" aria-hidden="false"></i>
                    <label class="bp-category-name">{{businessCategory.name}}</label>
                    <div *ngIf="selectedbusinessCategory === businessCategory">
                        <ul class="bp-list-types" *ngIf="toggleBtypes">
                            <li  class="bp-list-types-text" *ngFor="let businessCategoryType of selectedbusinessCategory.businessTypes" (click)="onSelectBusinessCategoryType(businessCategoryType); $event.stopPropagation()" [class.selected]="businessCategoryType === selectedBusinessType" > {{businessCategoryType.business_type}}                                
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Business Types and Permits list -->
        <div class="col-md-8" *ngIf="selectedbusinessCategory">
            <!-- If Selected BusinessType  -->
            <div #selectedBusinessTypesID class="bp-types-permits" *ngIf="selectedBusinessType && !toggleAllBusinessTypes">
                <div>
                    <div  class="bp-list-permits-header">PERMIT</div>
                    <h2 class="bp-business-type">{{selectedBusinessType.business_category | uppercase}}</h2>
                    <div class="business-type-values">{{selectedBusinessType.business_type | uppercase}}</div>
                    <div [@flyInOut]="selectedBusinessType" class="bp-permit" *ngFor="let permit of selectedBusinessType.permits">
                        <div href="*" class="bp-permit-name">{{permit.friendly_name}}</div>
                        <a href="*" class="permit-url">{{permit.url}}</a >
                    </div>
                </div>
            </div>

            <!-- IF All BusinessTypes -->
            <div #allBusinessTypesID class="bp-types-permits" *ngIf="toggleAllBusinessTypes">
                <div class="bp-list-permits-header">PERMIT(S)</div>
                <div>
                    <h2 [@flyInOut]="selectedbusinessCategory">{{selectedbusinessCategory.name | uppercase}}</h2>
                    <div class="bp-business-type" *ngFor="let businessType of selectedbusinessCategory.businessTypes" [@flyInOut]="selectedbusinessCategory">
                        <div class="business-type-values">{{businessType.business_type | uppercase}}</div>
                        <div class="bp-permit" *ngFor="let permit of businessType.permits">
                            <div href="*" class="bp-permit-name">{{permit.friendly_name}}</div>
                            <a href="*" class="permit-url">{{permit.url}}</a>
                        </div>
                    </div>
                </div>
            </div>        
        </div>
    </div>
</section>